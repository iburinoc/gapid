; SPIR-V
; Version: 1.0
; Generator: Khronos Glslang Reference Front End; 6
; Bound: 48
; Schema: 0
               OpCapability Shader
          %1 = OpExtInstImport "GLSL.std.450"
               OpMemoryModel Logical GLSL450
               OpEntryPoint Fragment %main "main" %outColor %fragColor %gl_FragCoord
               OpExecutionMode %main OriginUpperLeft
               OpSource GLSL 450
               OpSourceExtension "GL_ARB_separate_shader_objects"
               OpName %main "main"
               OpName %outColor "outColor"
               OpName %fragColor "fragColor"
               OpName %pos "pos"
               OpName %gl_FragCoord "gl_FragCoord"
               OpName %StorageBuffer "StorageBuffer"
               OpMemberName %StorageBuffer 0 "values"
               OpName %written "written"
               OpDecorate %outColor Location 0
               OpDecorate %fragColor Location 0
               OpDecorate %gl_FragCoord BuiltIn FragCoord
               OpDecorate %_runtimearr_uint ArrayStride 4
               OpMemberDecorate %StorageBuffer 0 Offset 0
               OpDecorate %StorageBuffer BufferBlock
               OpDecorate %written DescriptorSet 1
               OpDecorate %written Binding 0
       %void = OpTypeVoid
          %3 = OpTypeFunction %void
      %float = OpTypeFloat 32
    %v4float = OpTypeVector %float 4
%_ptr_Output_v4float = OpTypePointer Output %v4float
   %outColor = OpVariable %_ptr_Output_v4float Output
    %v3float = OpTypeVector %float 3
%_ptr_Input_v3float = OpTypePointer Input %v3float
  %fragColor = OpVariable %_ptr_Input_v3float Input
    %float_1 = OpConstant %float 1
        %int = OpTypeInt 32 1
      %v2int = OpTypeVector %int 2
%_ptr_Function_v2int = OpTypePointer Function %v2int
%_ptr_Input_v4float = OpTypePointer Input %v4float
%gl_FragCoord = OpVariable %_ptr_Input_v4float Input
    %v2float = OpTypeVector %float 2
       %uint = OpTypeInt 32 0
%_runtimearr_uint = OpTypeRuntimeArray %uint
%StorageBuffer = OpTypeStruct %_runtimearr_uint
%_ptr_Uniform_StorageBuffer = OpTypePointer Uniform %StorageBuffer
    %written = OpVariable %_ptr_Uniform_StorageBuffer Uniform
      %int_0 = OpConstant %int 0
     %uint_0 = OpConstant %uint 0
%_ptr_Function_int = OpTypePointer Function %int
    %int_800 = OpConstant %int 800
     %uint_1 = OpConstant %uint 1
%_ptr_Uniform_uint = OpTypePointer Uniform %uint
       %main = OpFunction %void None %3
          %5 = OpLabel
        %pos = OpVariable %_ptr_Function_v2int Function
         %13 = OpLoad %v3float %fragColor
         %15 = OpCompositeExtract %float %13 0
         %16 = OpCompositeExtract %float %13 1
         %17 = OpCompositeExtract %float %13 2
         %18 = OpCompositeConstruct %v4float %15 %16 %17 %float_1
               OpStore %outColor %18
         %26 = OpLoad %v4float %gl_FragCoord
         %27 = OpVectorShuffle %v2float %26 %26 0 1
         %28 = OpConvertFToS %v2int %27
               OpStore %pos %28
         %37 = OpAccessChain %_ptr_Function_int %pos %uint_0
         %38 = OpLoad %int %37
         %41 = OpAccessChain %_ptr_Function_int %pos %uint_1
         %42 = OpLoad %int %41
         %43 = OpIMul %int %int_800 %42
         %44 = OpIAdd %int %38 %43
         %46 = OpAccessChain %_ptr_Uniform_uint %written %int_0 %44
         %47 = OpAtomicIAdd %uint %46 %uint_1 %uint_0 %uint_1
               OpReturn
               OpFunctionEnd
